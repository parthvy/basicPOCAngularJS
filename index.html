<html ng-app="ToDo">
<body>
<span>UserToDo</span>
<p>User Application</p>
<div ng-controller=toDoController>
<div ng-if="create">
<form name="toDoForm" ng-submit="addToDo()">
Name : <input type="text" name="userName" ng-model="$parent.userName" required/>
<br><br>
ToDo : <input type="text" name="newtodo" ng-model="$parent.newtodo" required/>
<br><br>
<button ng-diabled="toDoForm.$invalid">Add</button>
 </form>
 <button ng-click="clearToDo()">Clear</button>
</div>
 <div ng-if="edit">
<form name="editForm">
Name : <input type="text" name="userName1" ng-model=exisitngToDo.name required/>
<br><br>
ToDo : <input type="text" name="newtodo1" ng-model=exisitngToDo.todo required/>
<br><br>
<button ng-show="edit" ng-click="saveEdit()"onclick>Update</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<button ng-show="edit" ng-click="deletetodo(exisitngToDo)"onclick>Delete</button>
 </form>
</div>
 <ul>
 <li ng-repeat = "todo in todos">
 <input type="checkbox" ng-model="todo.done" />
 <span>{{todo.name}} : {{todo.todo}}</span> <button ng-click="editToDo(todo)">Edit</button>
 
 </li>
 </ul>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<script>
angular.module('ToDo',[]).
controller('toDoController',['$scope',function($scope){
	$scope.create=true
	$scope.todos = [
	                {'name' : 'FName' ,'todo':'Do Something', 'done' : false}
	                ];
	$scope.addToDo = function(){
		$scope.todos.push({'name':$scope.userName,'todo':$scope.newtodo,'done':false})
		$scope.userName = ''
		$scope.newtodo = ''
	}
	
	$scope.clearToDo = function(){
		$scope.todos = $scope.todos.filter(function(item){
			return !item.done 
				})
	}
	$scope.editToDo = function(todo){
		$scope.edit=true;
		$scope.create=false;
		$scope.exisitngToDo = todo;
		$scope.edit=true;
	}
	$scope.saveEdit = function()
	{
		$scope.exisitngToDo = {};
		$scope.edit=false;
		$scope.create=true;
		
	}
	$scope.deletetodo = function(todo)
	{
		$scope.todos.splice($scope.todos.indexOf(todo),1);
		$scope.edit=false;
		$scope.create=true;
		
	}
}])

</script>
</body>
</html>